#### Java 代码

```java
package com.jjh.socket;

import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.util.EntityUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import java.io.IOException;

/**
 * @program: jvm-week1
 * @description
 * @author: jjh
 * @create: 2021-11-14 19:42
 **/
@SpringBootApplication
@RestController
@ComponentScan("com.jjh")
public class HttpClient01 {

    private static final Logger LOGGER = LoggerFactory.getLogger(HttpClient01.class);

    /**
     * 在main方法中请求会报异常，改用接口方式
     * 使用HttpClient请求ServerSocket
     * @return
     */
    @GetMapping("/getHttpClient")
    public Object getHttpClient() {
        String result = "";
        try {
            CloseableHttpClient build = HttpClientBuilder.create().build();
            HttpGet httpGet = new HttpGet("http://localhost:8801");
            //请求数据
            CloseableHttpResponse response = build.execute(httpGet);
            result = EntityUtils.toString(response.getEntity());
            //打印返回
            LOGGER.info("响应状态为:{}", response.getStatusLine());
            LOGGER.info("请求结果为:{}", result);
            //关闭连接
            response.close();
            build.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
        return result;
    }
    
    public static void main(String[] args) {
        SpringApplication.run(HttpClient01.class, args);
    }
    
}

```

#### 执行结果

```
2021-11-14 22:09:45.274  INFO 12988 --- [nio-8093-exec-5] com.jjh.socket.HttpClient01              : 响应状态为:HTTP/1.1 200 OK
2021-11-14 22:09:45.274  INFO 12988 --- [nio-8093-exec-5] com.jjh.socket.HttpClient01              : 请求结果为:Hello NIO 1
```

![image-20211114221047800](https://cdn.jsdelivr.net/gh/jianhaojiang/PicGoBed/img/image-20211114221047800.png)

